import { lodash } from "../compiled";
var cloneDeep = lodash.cloneDeep;
function filterRoutesForServer(routes) {
  var clonedRoutes = cloneDeep(routes);
  var newRoutes = clonedRoutes.map(function(route) {
    if (route.type !== "nested") {
      return route;
    }
    if (route.children && route.children.length > 0) {
      route.children = filterRoutesForServer(route.children);
    }
    if (route.inValidSSRRoute) {
      return null;
    }
    return route;
  }).filter(function(route) {
    return route !== null;
  });
  return newRoutes;
}
function filterRoutesLoader(routes) {
  var clonedRoutes = cloneDeep(routes);
  var newRoutes = clonedRoutes.map(function(route) {
    if (route.type !== "nested") {
      return route;
    }
    if (route.children && route.children.length > 0) {
      route.children = filterRoutesLoader(route.children);
    }
    if (route.inValidSSRRoute) {
      delete route.loader;
      delete route.data;
      delete route.action;
    }
    return route;
  }).filter(function(route) {
    return route !== null;
  });
  return newRoutes;
}
export {
  filterRoutesForServer,
  filterRoutesLoader
};
