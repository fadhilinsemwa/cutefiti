import { RsbuildPlugin } from '@rsbuild/core';
import ForkTSCheckerPlugin from 'fork-ts-checker-webpack-plugin';
import { ConfigChain } from 'reduce-configs';

type ForkTsCheckerOptions = NonNullable<ConstructorParameters<typeof ForkTSCheckerPlugin>[0]>;
type PluginTypeCheckerOptions = {
    /**
     * Whether to enable TypeScript type checking.
     * @default true
     */
    enable?: boolean;
    /**
     * To modify the options of `fork-ts-checker-webpack-plugin`.
     * @see https://github.com/TypeStrong/fork-ts-checker-webpack-plugin#readme
     */
    forkTsCheckerOptions?: ConfigChain<ForkTsCheckerOptions>;
};
declare const PLUGIN_TYPE_CHECK_NAME = "rsbuild:type-check";
declare const pluginTypeCheck: (options?: PluginTypeCheckerOptions) => RsbuildPlugin;

export { PLUGIN_TYPE_CHECK_NAME, type PluginTypeCheckerOptions, pluginTypeCheck };
